---
title: 桌面助手
description: 如何开发一个桌面助手
---

=================
桌面助手
=================

由于浏览器功能有限，一些特殊的功能，必须借助桌面助手来完成，比如：

- 外部编辑
- 文件下载同步
- 支持断点续传的同步

工作原理
==================
桌面助手就是一个安装在用户电脑上的一个辅助程序，一旦安装，这个程序注册为和浏览器的一个外部协议。

如外部编辑::

   edo-windows://edit/http://192.168.1.88:8089/files/abc.doc?token=12312312

文件下载同步::

   edo-windows://download/http://192.168.1.88:8089/files/?token=12312312

文件上传同步::

   edo-windows://upload/http://192.168.1.88:8089/files/?token=12312312

点击后直接调用::

   c:\edo\edowindows.exe -u "edit/http://192.168.1.88:8089/files/abc.doc?token=12312312"

桌面助手启动之后，读取token信息，利用系统的开放api来完成后续功能。

文件下载同步
======================

启动下载同步，首先会检查之前是否下载过。
如果下载过，则提示用户之前下载的文件夹位置，点击确定之后开始下载。
下载的过程中，会找到变化的部分，增量下载，减少下载时间，并能显示进度情况::

  有3个文件新增，12个文件发生变化，正在同步...

如果本地文件有变化，则属于冲突情况，应该将本地文件改名

文件上传同步
================

检查本地的文件，


